using Skclusive.Core.Component;

namespace Skclusive.Script.DomHelpers
{
    public class DomHelpersScript : ScriptComponentBase
    {
        protected override string GetScript()
        {
            return @"!function(){""use strict"";function t(t){return t&&t.ownerDocument||document}function e(e){void 0===e&&(e=t());try{var n=e.activeElement;return n&&n.nodeName?n:null}catch(t){return e.body}}function n(t,e){return t.classList?!!e&&t.classList.contains(e):-1!==("" ""+(t.className.baseVal||t.className)+"" "").indexOf("" ""+e+"" "")}function o(t,e){t.classList?t.classList.add(e):n(t,e)||(""string""==typeof t.className?t.className=t.className+"" ""+e:t.setAttribute(""class"",(t.className&&t.className.baseVal||"""")+"" ""+e))}var r=!(""undefined""==typeof window||!window.document||!window.document.createElement),i=!1,s=!1;try{var a={get passive(){return i=!0},get once(){return s=i=!0}};r&&(window.addEventListener(""test"",a,a),window.removeEventListener(""test"",a,!0))}catch(t){}function c(t,e,n,o){if(o&&""boolean""!=typeof o&&!s){var r=o.once,a=o.capture,c=n;!s&&r&&(c=n.__once||function t(o){this.removeEventListener(e,t,a),n.call(this,o)},n.__once=c),t.addEventListener(e,c,i?o:a)}t.addEventListener(e,n,o)}function u(e){var n=t(e);return n&&n.defaultView||window}function l(t,e){return u(t).getComputedStyle(t,e)}var f=/([A-Z])/g;function d(t){return t.replace(f,""-$1"").toLowerCase()}var m=/^ms-/;function p(t){return d(t).replace(m,""-ms-"")}var h=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function v(t){return!(!t||!h.test(t))}function g(t,e){var n="""",o="""";if(""string""==typeof e)return t.style.getPropertyValue(p(e))||l(t).getPropertyValue(p(e));Object.keys(e).forEach((function(r){var i=e[r];i||0===i?v(r)?o+=r+""(""+i+"") "":n+=p(r)+"": ""+i+"";"":t.style.removeProperty(p(r))})),o&&(n+=""transform: ""+o+"";""),t.style.cssText+="";""+n}function y(t,e,n,o){var r=o&&""boolean""!=typeof o?o.capture:o;t.removeEventListener(e,n,r),n.__once&&t.removeEventListener(e,n.__once,r)}function w(t,e,n,o){return c(t,e,n,o),function(){y(t,e,n,o)}}function E(t,e,n){void 0===n&&(n=5);var o=!1,r=setTimeout((function(){o||function(t){var e=document.createEvent(""HTMLEvents"");e.initEvent(""transitionend"",!0,!0),t.dispatchEvent(e)}(t)}),e+n),i=w(t,""transitionend"",(function(){o=!0}),{once:!0});return function(){clearTimeout(r),i()}}function T(t,e,n,o){var r,i;null==n&&(r=g(t,""transitionDuration"")||"""",i=-1===r.indexOf(""ms"")?1e3:1,n=parseFloat(r)*i||0);var s=E(t,n,o),a=w(t,""transitionend"",e);return function(){s(),a()}}var b={transition:"""",""transition-duration"":"""",""transition-delay"":"""",""transition-timing-function"":""""};function L(t){var e=t.node,n=t.properties,o=t.duration,r=void 0===o?200:o,i=t.easing,s=t.callback,a=[],c={},u="""";Object.keys(n).forEach((function(t){var e=n[t];v(t)?u+=t+""(""+e+"") "":(c[t]=e,a.push(d(t)))})),u&&(c.transform=u,a.push(""transform"")),r>0&&(c.transition=a.join("", ""),c[""transition-duration""]=r/1e3+""s"",c[""transition-delay""]=""0s"",c[""transition-timing-function""]=i||""linear"");var l=T(e,(function(t){t.target===t.currentTarget&&(g(e,b),s&&s.call(this,t))}),r);return e.clientLeft,g(e,c),{cancel:function(){l(),g(e,b)}}}function C(t,e,n,o,r){if(!(""nodeType""in t))return L(t);if(!e)throw new Error(""must include properties to animate"");return""function""==typeof o&&(r=o,o=""""),L({node:t,properties:e,duration:n,easing:o,callback:r})}var N=(new Date).getTime();var S=""clearTimeout"",P=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-N)),o=setTimeout(t,n);return N=e,o},O=function(t,e){return t+(t?e[0].toUpperCase()+e.substr(1):e)+""AnimationFrame""};r&&["""",""webkit"",""moz"",""o"",""ms""].some((function(t){var e=O(t,""request"");return e in window&&(S=O(t,""cancel""),P=function(t){return window[e](t)}),!!P}));var _,A=function(t){""function""==typeof window[S]&&window[S](t)},D=P;function x(t,e){if(!_){var n=document.body,o=n.matches||n.matchesSelector||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;_=function(t,e){return o.call(t,e)}}return _(t,e)}function H(t,e,n){t.closest&&!n&&t.closest(e);var o=t;do{if(x(o,e))return o;o=o.parentElement}while(o&&o!==n&&o.nodeType===document.ELEMENT_NODE);return null}function k(t,e){return t.contains?t.contains(e):t.compareDocumentPosition?t===e||!!(16&t.compareDocumentPosition(e)):void 0}var M=Function.prototype.bind.call(Function.prototype.call,[].slice);function W(t,e){return M(t.querySelectorAll(e))}function F(t,e){return function(n){var o=n.currentTarget,r=n.target;W(o,t).some((function(t){return k(t,r)}))&&e.call(this,n)}}function q(t){return""nodeType""in t&&t.nodeType===document.DOCUMENT_NODE}function V(t){return""window""in t&&t.window===t?t:q(t)&&t.defaultView||!1}function B(t){var e=""pageXOffset""===t?""scrollLeft"":""scrollTop"";return function(n,o){var r=V(n);if(void 0===o)return r?r[t]:n[e];r?r.scrollTo(r[t],o):n[e]=o}}var j=B(""pageXOffset""),I=B(""pageYOffset"");function z(e){var n=t(e),o={top:0,left:0,height:0,width:0},r=n&&n.documentElement;return r&&k(r,e)?(void 0!==e.getBoundingClientRect&&(o=e.getBoundingClientRect()),o={top:o.top+I(r)-(r.clientTop||0),left:o.left+j(r)-(r.clientLeft||0),width:o.width,height:o.height}):o}function R(t,e){var n=V(t);return n?n.innerHeight:e?t.clientHeight:z(t).height}function $(e){for(var n,o=t(e),r=e&&e.offsetParent;(n=r)&&""offsetParent""in n&&""HTML""!==r.nodeName&&""static""===g(r,""position"");)r=r.offsetParent;return r||o.documentElement}function X(){return(X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t}).apply(this,arguments)}var Y;function U(t,e){var n,o={top:0,left:0};if(""fixed""===g(t,""position""))n=t.getBoundingClientRect();else{var r=e||$(t);n=z(t),""html""!==function(t){return t.nodeName&&t.nodeName.toLowerCase()}(r)&&(o=z(r));var i=String(g(r,""borderTopWidth"")||0);o.top+=parseInt(i,10)-I(r)||0;var s=String(g(r,""borderLeftWidth"")||0);o.left+=parseInt(s,10)-j(r)||0}var a=String(g(t,""marginTop"")||0),c=String(g(t,""marginLeft"")||0);return X({},n,{top:n.top-o.top-(parseInt(a,10)||0),left:n.left-o.left-(parseInt(c,10)||0)})}function Z(t,e){return t.replace(new RegExp(""(^|\\s)""+e+""(?:\\s|$)"",""g""),""$1"").replace(/\s+/g,"" "").replace(/^\s*|\s*$/g,"""")}function G(t,e){t.classList?t.classList.remove(e):""string""==typeof t.className?t.className=Z(t.className,e):t.setAttribute(""class"",Z(t.className&&t.className.baseVal||"""",e))}function J(t){if((!Y&&0!==Y||t)&&r){var e=document.createElement(""div"");e.style.position=""absolute"",e.style.top=""-9999px"",e.style.width=""50px"",e.style.height=""50px"",e.style.overflow=""scroll"",document.body.appendChild(e),Y=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return Y}function K(t,e){var n=g(t,""position""),o=""absolute""===n,r=t.ownerDocument;if(""fixed""===n)return r||document;for(;(t=t.parentNode)&&!q(t);){var i=o&&""static""===g(t,""position""),s=(g(t,""overflow"")||"""")+(g(t,""overflow-y"")||"""")+g(t,""overflow-x"");if(!i&&(/(auto|scroll)/.test(s)&&(e||R(t)<t.scrollHeight)))return t}return r||document}function Q(t,e){var n=z(t),o={top:0,left:0};if(t){var r=e||K(t),i=V(r),s=I(r),a=R(r,!0);i||(o=z(r));var c=(n={top:n.top-o.top,left:n.left-o.left,height:n.height,width:n.width}).height,u=n.top+(i?0:s),l=u+c;s=s>u?u:l>s+a?l-a:s;var f=D((function(){return I(r,s)}));return function(){return A(f)}}}function tt(t,e){t.classList?t.classList.toggle(e):n(t,e)?G(t,e):o(t,e)}function et(t,e){var n=V(t);return n?n.innerWidth:e?t.clientWidth:z(t).width}var nt={addEventListener:c,removeEventListener:y,animate:C,filter:F,listen:w,style:g,getComputedStyle:l,activeElement:e,ownerDocument:t,ownerWindow:u,requestAnimationFrame:D,cancelAnimationFrame:A,matches:x,height:R,width:et,offset:z,offsetParent:$,position:U,contains:k,scrollbarSize:J,scrollLeft:j,scrollParent:K,scrollTo:Q,scrollTop:I,querySelectorAll:W,closest:H,addClass:o,removeClass:G,hasClass:n,toggleClass:tt,transitionEnd:T},ot=Object.freeze({__proto__:null,addEventListener:c,removeEventListener:y,animate:C,filter:F,listen:w,style:g,getComputedStyle:l,activeElement:e,ownerDocument:t,ownerWindow:u,requestAnimationFrame:D,cancelAnimationFrame:A,matches:x,height:R,width:et,offset:z,offsetParent:$,position:U,contains:k,scrollbarSize:J,scrollLeft:j,scrollParent:K,scrollTo:Q,scrollTop:I,querySelectorAll:W,closest:H,addClass:o,removeClass:G,hasClass:n,toggleClass:tt,transitionEnd:T,default:nt});function rt(t){t&&t.parentNode&&t.parentNode.removeChild(t)}const it=function(){let t=1e4;return()=>t++}();function st(t){if(t){const e=it();return function(t,e){t.setAttribute(function(t){return""_bl_""+t}(e),"""")}(t,e),""""+e}return null}function at(t){t.scrollTop}function ct(t,e,n){e.forEach(e=>o(t,e)),n&&at(t)}function ut(t,e){e.forEach(e=>G(t,e))}window.Skclusive={...window.Skclusive,Script:{...(window.Skclusive||{}).Script,DomHelpers:{...ot,generateId:function(){return Math.random().toString(36).substr(2)},activeElement:function(n){return st(e(t(n)))},closest:function(t,e,n){return st(H(t,e,n))},offsetParent:function(t){return st($(t))},repaint:at,setStyle:function(t,e,n){g(t,e),n&&at(t)},getStyle:function(t,e){return g(t,e)},addClasses:ct,removeClasses:ut,updateClasses:function(t,e,n,o){ut(t,e),ct(t,n),o&&at(t)},focus:function(t){t&&setTimeout(()=>t.focus(),100)},blur:function(t){t&&setTimeout(()=>t.blur(),1)},moveContent:function(e,n,o,r){if(e){let i=null,s=null;if(n)i=n;else if(r){i=t(r).head;const n=Array.from(e.childNodes).find(t=>8!==t.nodeType);s=n&&i.querySelector(n.tagName)}else i=t(o).body;for(;e.childNodes.length>0;){const t=e.childNodes[0];8!==t.nodeType?s?i.insertBefore(t,s):i.appendChild(t):rt(t)}}},copyContent:function(t,e){t&&e&&(e.innerHTML=t.innerHTML)},clearContent:function(t){for(;t.childNodes.length>0;)t.removeChild(t.childNodes[0])},getBoundry:function(t){return t?t.getBoundingClientRect():{width:0,height:0,left:0,top:0}},getScrollParent:function(t,e){let n=e,o=0;for(;n&&n!==t;)n=n.parentNode,o+=n.scrollTop;return o},debounce:function(t,e=166){let n;function o(...o){const r=this;clearTimeout(n),n=setTimeout(()=>{t.apply(r,o)},e)}return o.clear=()=>{clearTimeout(n)},o},goBack:function(t){setTimeout(()=>history.go(t),2e3)},getElementOffset:function(t){return{width:t.offsetWidth,height:t.offsetHeight}},getWindowOffset:function(t){const e=u(t);return{width:e.innerWidth,height:e.innerHeight}},getInputValue:function(t){return t&&t.value},removeNode:rt,resetHeight:function(t){if(!t)return;t.style.setProperty(""height"",""auto"");const e=getComputedStyle(t).height;t.style.setProperty(""height"",""0""),requestAnimationFrame(()=>{t.style.setProperty(""height"",e)})},toggleHeight:function(t){if(!t)return;const e=getComputedStyle(t).height;t.style.setProperty(""height"",e),requestAnimationFrame(()=>{t.style.setProperty(""height"",""0"")})}}}}}();";
        }
    }
}
